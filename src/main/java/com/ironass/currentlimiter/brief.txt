总体采用常见限流算法中的令牌桶算法。

首先想象出一个容量固定的桶，桶中以每秒恒定的速度产生令牌，若桶内容量已满，则停止生产。

每个请求进来都先向桶内获取令牌，此时桶内令牌数减1，若某个时刻请求进来未获取到令牌，则说明此刻请求并发量过大，桶内生产速度跟不上消费速度，此时令牌桶会返回下次产生令牌的时间。


通过此方案限流，请求进来获取令牌并返回此次请求的阻塞时间，若令牌充足则返回-1不阻塞，如令牌不足，计算下次令牌产生的时间并返回hold的时间。这其中可以
有两种设计方式，第一种是每次更新令牌桶中的剩余可用信令，另外一种方式是每次更新下次令牌产生的时间。理论上第二种方式更好